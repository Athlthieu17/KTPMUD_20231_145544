{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport { STATUS } from \"../../utils/constants\";\nimport Thumbnail from \"../../assets/images/thumbnail.png\";\nimport axios from \"axios\";\nvar fakeData = [];\nif (localStorage.getItem(\"events\") === null && localStorage.getItem(\"token\") !== null) {\n  await axios.get(\"http://localhost:8000/api/v1/event/all_event\", {\n    headers: {\n      Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n    }\n  }).then(res => {\n    localStorage.setItem(\"events\", res.data);\n    console.log(res);\n    res.data.forEach(e => {\n      fakeData.push({\n        id: e.mact,\n        name: e.name,\n        dateStart: e.ngaybatdau,\n        dateEnd: e.ngayketthuc,\n        status: STATUS.ACTIVE,\n        note: e.detail,\n        thumbnail: Thumbnail,\n        owner: e.owner\n      });\n    });\n  });\n}\nconst initialState = {\n  evens: fakeData\n};\nexport const eventSlices = createSlice({\n  name: \"event\",\n  initialState,\n  reducers: {\n    listEvent: state => {\n      return state.evens;\n    },\n    filterEvent: (state, actions) => {\n      if (actions.payload !== STATUS.ALL) {\n        return state.evens.filter(item => item.status === actions.payload);\n      }\n      return state.evens;\n    }\n  }\n});\n\n// Action creators are generated for each case reducer function\nexport const {\n  listEvent\n} = eventSlices.actions;\nexport default eventSlices.reducer;","map":{"version":3,"names":["createSlice","STATUS","Thumbnail","axios","fakeData","localStorage","getItem","get","headers","Authorization","then","res","setItem","data","console","log","forEach","e","push","id","mact","name","dateStart","ngaybatdau","dateEnd","ngayketthuc","status","ACTIVE","note","detail","thumbnail","owner","initialState","evens","eventSlices","reducers","listEvent","state","filterEvent","actions","payload","ALL","filter","item","reducer"],"sources":["C:/Users/Admin/Desktop/Desktop/HUST_20231/KTPMUD_20231_145544/frontend/src/redux/slices/eventSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nimport { STATUS } from \"../../utils/constants\";\r\nimport Thumbnail from \"../../assets/images/thumbnail.png\";\r\nimport axios from \"axios\";\r\n\r\nvar fakeData = [];\r\n\r\nif (\r\n  localStorage.getItem(\"events\") === null &&\r\n  localStorage.getItem(\"token\") !== null\r\n) {\r\n  await axios\r\n    .get(\"http://localhost:8000/api/v1/event/all_event\", {\r\n      headers: {\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\r\n      },\r\n    })\r\n    .then((res) => {\r\n      localStorage.setItem(\"events\", res.data);\r\n      console.log(res);\r\n      res.data.forEach((e) => {\r\n        fakeData.push({           \r\n          id: e.mact,\r\n          name: e.name,\r\n          dateStart: e.ngaybatdau,\r\n          dateEnd: e.ngayketthuc,\r\n          status: STATUS.ACTIVE,\r\n          note: e.detail,\r\n          thumbnail: Thumbnail,   \r\n          owner: e.owner       \r\n        });\r\n      });\r\n    });\r\n}\r\n\r\nconst initialState = {\r\n  evens: fakeData,\r\n};\r\n\r\nexport const eventSlices = createSlice({\r\n  name: \"event\",\r\n  initialState,\r\n  reducers: {\r\n    listEvent: (state) => {\r\n      return state.evens;\r\n    },\r\n    filterEvent: (state, actions) => {\r\n      if (actions.payload !== STATUS.ALL) {\r\n        return state.evens.filter((item) => item.status === actions.payload);\r\n      }\r\n      return state.evens;\r\n    },\r\n  },\r\n});\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const { listEvent } = eventSlices.actions;\r\n\r\nexport default eventSlices.reducer;\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,MAAM,QAAQ,uBAAuB;AAC9C,OAAOC,SAAS,MAAM,mCAAmC;AACzD,OAAOC,KAAK,MAAM,OAAO;AAEzB,IAAIC,QAAQ,GAAG,EAAE;AAEjB,IACEC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,KAAK,IAAI,IACvCD,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,KAAK,IAAI,EACtC;EACA,MAAMH,KAAK,CACRI,GAAG,CAAC,8CAA8C,EAAE;IACnDC,OAAO,EAAE;MACPC,aAAa,EAAE,SAAS,GAAGJ,YAAY,CAACC,OAAO,CAAC,OAAO;IACzD;EACF,CAAC,CAAC,CACDI,IAAI,CAAEC,GAAG,IAAK;IACbN,YAAY,CAACO,OAAO,CAAC,QAAQ,EAAED,GAAG,CAACE,IAAI,CAAC;IACxCC,OAAO,CAACC,GAAG,CAACJ,GAAG,CAAC;IAChBA,GAAG,CAACE,IAAI,CAACG,OAAO,CAAEC,CAAC,IAAK;MACtBb,QAAQ,CAACc,IAAI,CAAC;QACZC,EAAE,EAAEF,CAAC,CAACG,IAAI;QACVC,IAAI,EAAEJ,CAAC,CAACI,IAAI;QACZC,SAAS,EAAEL,CAAC,CAACM,UAAU;QACvBC,OAAO,EAAEP,CAAC,CAACQ,WAAW;QACtBC,MAAM,EAAEzB,MAAM,CAAC0B,MAAM;QACrBC,IAAI,EAAEX,CAAC,CAACY,MAAM;QACdC,SAAS,EAAE5B,SAAS;QACpB6B,KAAK,EAAEd,CAAC,CAACc;MACX,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC,CAAC;AACN;AAEA,MAAMC,YAAY,GAAG;EACnBC,KAAK,EAAE7B;AACT,CAAC;AAED,OAAO,MAAM8B,WAAW,GAAGlC,WAAW,CAAC;EACrCqB,IAAI,EAAE,OAAO;EACbW,YAAY;EACZG,QAAQ,EAAE;IACRC,SAAS,EAAGC,KAAK,IAAK;MACpB,OAAOA,KAAK,CAACJ,KAAK;IACpB,CAAC;IACDK,WAAW,EAAEA,CAACD,KAAK,EAAEE,OAAO,KAAK;MAC/B,IAAIA,OAAO,CAACC,OAAO,KAAKvC,MAAM,CAACwC,GAAG,EAAE;QAClC,OAAOJ,KAAK,CAACJ,KAAK,CAACS,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACjB,MAAM,KAAKa,OAAO,CAACC,OAAO,CAAC;MACtE;MACA,OAAOH,KAAK,CAACJ,KAAK;IACpB;EACF;AACF,CAAC,CAAC;;AAEF;AACA,OAAO,MAAM;EAAEG;AAAU,CAAC,GAAGF,WAAW,CAACK,OAAO;AAEhD,eAAeL,WAAW,CAACU,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}